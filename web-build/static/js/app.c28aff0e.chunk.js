(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var a,r,s=n(16),o=n.n(s),c=n(158),i=n(1),l=n(9),u=n(106),d=n(18),h=Object(i.createContext)({theme:0,setTheme:function(){}});function f(e){var t="#ffffff";switch(Object(i.useContext)(h).theme){case a.light:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#E6B566";break;case r.Button:case r.InputText:t="#E5707E";break;case r.ModalBackground:t="#A3DDCB";case r.ModalInner:t="#ffffff";case r.primaryColor:t="#A3DDCB";break;case r.SecondaryColor:t="#E8E9A1";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}break;case a.dark:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#2D4263";break;case r.Button:case r.InputText:t="#C84B31";break;case r.ModalBackground:t="#191919";case r.ModalInner:t="#ffffff";case r.primaryColor:case r.SecondaryColor:t="#191919";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}break;case a.hacker:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#14f074";break;case r.Button:case r.InputText:t="#0c833d";break;case r.ModalBackground:t="#0c833d";case r.ModalInner:t="#ffffff";case r.primaryColor:case r.SecondaryColor:t="#063335";break;case r.TertiaryColor:t="#13993b";break;default:t="#ffffff"}break;default:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="ivory";break;case r.Button:t="chocolate";break;case r.InputText:t="linen";break;case r.ModalBackground:t="#96D65E";case r.ModalInner:t="#ffffff";case r.primaryColor:t="#333";break;case r.SecondaryColor:t="#5B995A";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}}return"android"==d.a.OS?""+t:t}function x(){switch(Object(i.useContext)(h).theme){case a.light:case a.dark:return 5;case a.hacker:return 1;default:return 5}}function j(){switch(Object(i.useContext)(h).theme){case a.light:case a.dark:return 10;case a.hacker:return 0;default:return 10}}function b(){switch(Object(i.useContext)(h).theme){case a.light:case a.dark:return 5;case a.hacker:return 0;default:return 5}}function p(){switch(Object(i.useContext)(h).theme){case a.light:case a.dark:return 5;case a.hacker:return 2;default:return 5}}!function(e){e[e.default=0]="default",e[e.light=1]="light",e[e.dark=2]="dark",e[e.hacker=3]="hacker"}(a||(a={})),function(e){e[e.Text=0]="Text",e[e.textHeader=1]="textHeader",e[e.textTitle=2]="textTitle",e[e.Button=3]="Button",e[e.ModalBackground=4]="ModalBackground",e[e.ModalInner=5]="ModalInner",e[e.InputText=6]="InputText",e[e.primaryColor=7]="primaryColor",e[e.SecondaryColor=8]="SecondaryColor",e[e.TertiaryColor=9]="TertiaryColor"}(r||(r={}));var m,y={pageIndex:0,setPageIndex:function(){},user:{id:0,isManager:!1,fname:"",lname:"",username:"",password:""},setUser:function(){},employeeList:[],setEmployeeList:function(){},employeeIndex:0,setEmployeeIndex:function(){},theme:a.default,setTheme:function(){},sync:!0,setSync:function(){}},g=Object(i.createContext)(y),v=n(22),O=n.n(v),C=n(20),w=n(27),k=n.n(w),T=n(28),S=n.n(T),E=n(65),I=n.n(E);!function(e){e[e.unChanged=0]="unChanged",e[e.add=1]="add",e[e.changed=2]="changed",e[e.delete=3]="delete"}(m||(m={}));var D=n(66),H=n.n(D),L=function(){function e(){k()(this,e),this.Context=Object(i.useContext)(g)}return S()(e,[{key:"syncEmployees",value:function(e){var t=[];e.map((function(e,n){var a={serverData:e,status:m.unChanged};t.push(a)})),this.Context.setEmployeeList(t),this.Context.setSync(!0)}},{key:"getLocalEmployees",value:function(){return this.Context.employeeList}},{key:"createEmployee",value:function(e){this.Context.setSync(!1);var t={serverData:e,status:m.add},n=this.Context.employeeList;n.push(t),this.Context.setEmployeeList(n)}},{key:"deleteEmployee",value:function(e){this.Context.setSync(!1);for(var t=this.Context.employeeList,n=0;n<t.length;n++)if(t[n].serverData.id==e.id)return t[n].status=m.delete,void this.Context.setEmployeeList(H()(t))}},{key:"changePassword",value:function(e,t){this.Context.setSync(!1);for(var n=this.Context.employeeList,a=0;a<n.length;a++)if(n[a].serverData.id==e.id)return n[a].serverData.password=t,void this.Context.setEmployeeList(H()(n))}},{key:"changeTheme",value:function(e){this.Context.theme=e}}]),e}(),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k()(this,e),this.useURL="http://20.124.74.192:3000",this.devMode=!1,this.context=Object(i.useContext)(g),this.localHander=new L,this.devMode=t}return S()(e,[{key:"getURL",value:function(){return this.devMode?"https://c27c0348-eb0c-4ac0-afe2-101bc195d6a5.mock.pstmn.io":this.useURL}},{key:"getServerAllEmployees",value:function(){var e,t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.a.awrap(I.a.get(this.getURL()+"/employees"));case 2:return e=n.sent,t=e.data,this.localHander.syncEmployees(t),n.abrupt("return",t);case 6:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"syncApp",value:function(){var e,t=this;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.context.employeeList.filter((function(e){return e.status===m.add})).forEach((function(e){var n,a,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e.serverData),console.log("Making post call for:",e.serverData),n={isManager:e.serverData.isManager,fname:e.serverData.fname,lname:e.serverData.lname,username:e.serverData.username,password:e.serverData.password},s.next=5,O.a.awrap(I.a.post(t.getURL()+"/employees",n));case 5:return a=s.sent,r=a.data,s.abrupt("return",r);case 8:case"end":return s.stop()}}),null,null,null,Promise)})),n.next=4,O.a.awrap(this.getServerAllEmployees());case 4:e=n.sent,this.localHander.syncEmployees(e),this.context.setSync(!0);case 7:case"end":return n.stop()}}),null,this,null,Promise)}}]),e}(),M=n(107),A=n(5);function B(e){e.onPress,e.title;return Object(A.jsx)(l.a,{style:"web"==d.a.OS?{margin:p(),backgroundColor:f(r.Button),padding:b(),borderRadius:j(),shadowRadius:x()}:{margin:p(),padding:b(),borderRadius:j(),shadowRadius:x()},children:Object(A.jsx)(M.a,{onPress:e.onPress,title:e.title,color:f(r.Button),disabled:e.disabled,testID:e.testID},e.key)})}var R=n(104),U=n(11);function F(e){var t,n=e.child,a=null!=(t=null==e?void 0:e.openTitle)?t:"null open title",s=Object(i.useState)(!1),c=o()(s,2),u=c[0],d=c[1],h=U.a.create({modalView:{flexDirection:"column",flex:1,alignContent:"center",justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0}}});return Object(A.jsxs)(l.a,{children:[Object(A.jsx)(l.a,{style:{alignItems:"center",justifyContent:"center"},children:Object(A.jsx)(R.a,{animationType:"slide",transparent:!0,visible:u,onRequestClose:function(){d(!u)},children:Object(A.jsx)(l.a,{style:h.modalView,children:Object(A.jsxs)(l.a,{style:{margin:p(),padding:b(),borderRadius:j(),backgroundColor:f(r.ModalBackground),borderWidth:5},children:[n,Object(A.jsx)(B,{title:"close",onPress:function(){d(!u)}})]})})})}),Object(A.jsx)(B,{title:a,onPress:function(){d(!0)}})]})}var z,G=n(58);function N(e){var t=e.text;if(!t)throw new Error("You did not pass a text value into one of your text");var n=e.textType,a=r.Text,s="auto";return null!=e&&e.textAlign&&(s=null==e?void 0:e.textAlign),Object(A.jsx)(l.a,{style:{margin:5},children:Object(A.jsx)(G.a,{style:{color:f(a),fontSize:W(n),textAlign:Y(s,n)},children:t})})}function Y(e,t){var n=null!=e?e:"auto";switch(t){case z.Title:case z.Header:return"center";case z.General:default:return n}}function W(e){if("web"==d.a.OS)switch(e){case z.Title:return 50;case z.Header:return 30;case z.General:default:return 20}else switch(e){case z.Title:return 30;case z.Header:return 20;case z.General:default:return 10}}function J(e){var t,n,a=null!=(t=null==e?void 0:e.height)?t:0,r=null!=(n=null==e?void 0:e.width)?n:0,s=e.minHeight,o=e.minWidth,c=e.maxHeight,i=e.maxWidth;return Object(A.jsx)(l.a,{style:{height:a,width:r,minHeight:s,minWidth:o,maxHeight:c,maxWidth:i}})}!function(e){e[e.Title=0]="Title",e[e.Header=1]="Header",e[e.General=2]="General"}(z||(z={}));var V=n(96),q=n(95);function _(e){var t,n,a,s,o,c=e.value,i=e.onChangeText,u=e.placeholder;if(void 0===c)throw new Error("You did not pass a value into one of your input text, pass the useState read only value here");if(!i)throw new Error("You did not pass an onChangeText to one of your input text, pass the useState function here ");if(!u)throw new Error("You did not put a placeholder into one of your input text, please add a default value that describes what the field will be used for");var d=null!=(t=null==e?void 0:e.keyboardType)?t:"default",h=null==(n=null==e?void 0:e.editable)||n,m=null!=(a=null==e?void 0:e.onChange)?a:function(e){var t=e.nativeEvent;t.eventCount,t.target,t.text},y=null!=(s=null==e?void 0:e.onContentSizeChange)?s:function(e){var t=e.nativeEvent.contentSize;t.width,t.height},g=null!=(o=null==e?void 0:e.textAlign)?o:"center";return Object(A.jsx)(l.a,{style:{backgroundColor:f(r.InputText),borderRadius:j(),margin:p(),padding:b(),shadowRadius:x()},children:Object(A.jsx)(q.a,{value:c,onChangeText:i,placeholder:u,keyboardType:d,editable:h,onChange:m,onContentSizeChange:y,style:{fontSize:20,textAlign:g}})})}function K(){var e=Object(i.useState)(""),t=o()(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),s=o()(r,2),c=s[0],u=s[1],d=Object(i.useState)(""),h=o()(d,2),f=h[0],x=h[1],j=Object(i.useState)(""),b=o()(j,2),p=b[0],m=b[1],y=Object(i.useState)(!1),v=o()(y,2),O=v[0],w=v[1],k=Object(i.useContext)(g),T=new L;function S(){if(n&&c&&f&&p){var e={id:k.employeeList.length,fname:n,lname:c,isManager:O,username:f,password:p};T.createEmployee(e),alert("User added"),a(""),u(""),x(""),m(""),console.log(k.employeeList)}else alert("All fields must be filled out...")}return Object(A.jsx)(F,{openTitle:"Add Employee",child:Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(J,{width:.2*C.a.get("screen").width,height:1}),Object(A.jsx)(N,{text:"First Name",textType:z.Header}),Object(A.jsx)(_,{value:n,onChangeText:function(e){return a(e)},placeholder:"John"}),Object(A.jsx)(N,{text:"Last Name",textType:z.Header}),Object(A.jsx)(_,{value:c,onChangeText:function(e){return u(e)},placeholder:"Smith"}),Object(A.jsx)(N,{text:"Username",textType:z.Header}),Object(A.jsx)(_,{value:f,onChangeText:function(e){return x(e)},placeholder:"jsmith"}),Object(A.jsx)(N,{text:"Password",textType:z.Header}),Object(A.jsx)(_,{value:p,onChangeText:function(e){return m(e)},placeholder:"********"}),Object(A.jsxs)(l.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(A.jsx)(N,{text:"Is person manager?",textType:z.Header}),Object(A.jsx)(V.a,{onValueChange:function(){return w((function(e){return!e}))},value:O})]}),Object(A.jsx)(B,{onPress:S,title:"Submit"})]})})}var Q=n(105);function X(e){var t=e.employee,n=Object(i.useContext)(g),a=Object(i.useState)(!1),r=o()(a,2),s=r[0],c=r[1],u=Object(i.useState)(""),d=o()(u,2),h=d[0],f=d[1],x=new L;return Object(A.jsx)(F,{child:Object(A.jsxs)(l.a,{style:{alignSelf:"stretch"},children:[Object(A.jsx)(J,{width:.2*C.a.get("screen").width,height:1,textType:z.Header}),Object(A.jsx)(N,{text:"Name: "+t.fname+" "+t.lname,textType:z.Header}),Object(A.jsx)(N,{text:"Username: "+t.username,textType:z.Header}),Object(A.jsx)(N,{text:"ID: "+t.id,textType:z.Header}),Object(A.jsx)(N,{text:"Manager: "+(t.isManager?"Yes":"No"),textType:z.Header}),s?Object(A.jsxs)(l.a,{children:[Object(A.jsx)(_,{value:h,onChangeText:f,placeholder:"new password"}),Object(A.jsx)(B,{title:"save",onPress:function(){return function(){var e=h.trim();!0===n.employeeList.map((function(e){return e.serverData.password})).includes(e)?alert("That password already exists, try another"):e.length>7&&null!==e.match(/[!-/:-@[-`{-~]/)?(t.password=e,x.changePassword(t,e),c(!1)):alert("You must enter a valid password between 7 and 1023783467234 characters, and include at least one symbol")}()}})]}):Object(A.jsx)(B,{title:"Create New Password",onPress:function(){return c(!0)}})]}),openTitle:t.fname+" "+t.lname})}function Z(){var e=new L;return Object(A.jsx)(l.a,{style:{maxHeight:300},children:Object(A.jsx)(Q.a,{children:function(){var t=e.getLocalEmployees();return t.length>1?t.map((function(e,t){return Object(A.jsx)(X,{employee:e.serverData},e.serverData.id)})):[Object(A.jsx)(N,{text:"No Employees found"})]}()})})}var $=n(108),ee=n(8);function te(e){var t=Object($.a)().instance,n=Object(i.useContext)(h);return t.enableAccountStorageEvents(),t.addEventCallback((function(t){t.eventType===ee.a.LOGOUT_FAILURE&&e.setPage(0)})),Object(A.jsxs)(l.a,{children:[Object(A.jsx)(J,{width:.2*C.a.get("screen").width,height:1}),Object(A.jsx)(N,{text:"Settings",textType:z.Header}),Object(A.jsxs)(l.a,{style:{backgroundColor:f(r.SecondaryColor),borderRadius:j(),padding:b(),margin:p()},children:[Object(A.jsx)(B,{title:"Set Default theme",onPress:function(){n.setTheme(a.default)}}),Object(A.jsx)(B,{title:"Set Dark theme",onPress:function(){n.setTheme(a.dark)}}),Object(A.jsx)(B,{title:"Set Light theme",onPress:function(){n.setTheme(a.light)}}),Object(A.jsx)(B,{title:"Set Hacker theme",onPress:function(){n.setTheme(a.hacker)}})]}),Object(A.jsx)(B,{onPress:function(){t.logout(),e.setPage(0)},title:"Logout"})]})}function ne(){var e=new P(!0),t=new L;Object(i.useContext)(g);return Object(i.useEffect)((function(){!function(){var n;O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.getServerAllEmployees());case 2:n=a.sent,t.syncEmployees(n);case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(A.jsxs)(l.a,{style:{flexDirection:"column"},children:[Object(A.jsx)(F,{openTitle:"settings",child:Object(A.jsx)(l.a,{children:Object(A.jsx)(te,{})})}),Object(A.jsx)(N,{text:"Main page",textType:z.Title}),Object(A.jsx)(B,{onPress:function(){e.syncApp(),console.log("Sync pressed")},title:"Sync"}),Object(A.jsx)(J,{width:.2*C.a.get("screen").width,height:1}),Object(A.jsxs)(l.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"stretch",padding:b(),borderRadius:j(),margin:p(),backgroundColor:f(r.SecondaryColor)},children:[Object(A.jsx)(J,{height:.3*C.a.get("screen").height,width:1}),Object(A.jsxs)(l.a,{style:{flexDirection:"column"},children:[Object(A.jsx)(J,{width:.2*C.a.get("screen").width,height:1}),Object(A.jsx)(Z,{})]})]}),Object(A.jsx)(K,{})]})}new c.a({auth:{clientId:"663099a6-a78e-4905-9aa1-f1a58912c0f6",authority:"https://login.microsoftonline.com/874eb666-ca35-4e5d-bde2-379ff6a5f431 ",redirectUri:"https://salmon-rock-0e75fe60f.1.azurestaticapps.net/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}});function ae(){var e=Object(i.useState)(0),t=o()(e,2),s=t[0],c=t[1],d=Object(i.useState)({id:0,isManager:!1,fname:"fname",lname:"lname",username:"username",password:"password1!"}),x=o()(d,2),j=x[0],b=x[1],p=Object(i.useState)([]),m=o()(p,2),y=m[0],v=m[1],O=Object(i.useState)(-1),C=o()(O,2),w=C[0],k=C[1],T=Object(i.useState)(a.default),S=o()(T,2),E=S[0],I=S[1],D=Object(i.useState)(!0),H=o()(D,2),L=H[0],P=H[1],M={pageIndex:s,setPageIndex:c,user:j,setUser:b,employeeList:y,setEmployeeList:v,employeeIndex:w,setEmployeeIndex:k,theme:E,setTheme:I,sync:L,setSync:P};var B={theme:E,setTheme:I};return Object(A.jsx)(l.a,{style:{backgroundColor:f(r.primaryColor),flex:1,alignItems:"center",justifyContent:"center"},children:Object(A.jsx)(g.Provider,{value:M,children:Object(A.jsxs)(h.Provider,{value:B,children:[Object(A.jsx)(u.a,{style:{height:192,width:192,margin:10},source:n(147)}),function(){switch(s){case 0:return Object(A.jsx)(l.a,{children:Object(A.jsx)(ne,{})});case 1:return Object(A.jsx)(l.a,{children:Object(A.jsx)(N,{text:"User setting"})})}}()]})})})}},109:function(e,t,n){e.exports=n(154)},147:function(e,t,n){e.exports=n.p+"static/media/Sale.c1fdc2f5.png"}},[[109,1,2]]]);
//# sourceMappingURL=app.c28aff0e.chunk.js.map