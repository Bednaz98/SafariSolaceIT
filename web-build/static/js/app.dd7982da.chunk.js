(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae}));var a,s,r,c=n(14),o=n.n(c),i=n(154),l=n(33),u=n(2),d=n(11),j=n(9),h=Object(u.createContext)({theme:0,setTheme:function(){}});function x(e){switch(Object(u.useContext)(h).theme,e){case s.Text:case s.Button:return"";case s.Modal:case s.InputText:return"#aaaaaa";case s.B:case s.C:case s.D:case s.E:case s.F:default:return""}}!function(e){e[e.default=0]="default",e[e.other=1]="other"}(a||(a={})),function(e){e[e.Text=0]="Text",e[e.Button=1]="Button",e[e.Modal=2]="Modal",e[e.InputText=3]="InputText",e[e.B=4]="B",e[e.C=5]="C",e[e.D=6]="D",e[e.E=7]="E",e[e.F=8]="F"}(s||(s={})),function(e){e[e.web=0]="web",e[e.ios=1]="ios",e[e.android=2]="android"}(r||(r={}));var f,b={pageIndex:0,setPageIndex:function(){},user:{id:0,isManager:!1,fname:"",lname:"",username:"",password:""},setUser:function(){},employeeList:[],setEmployeeList:function(){},employeeIndex:0,setEmployeeIndex:function(){},theme:a.default,setTheme:function(){},sync:!0,setSync:function(){}},p=Object(u.createContext)(b),O=n(20),v=n.n(O),m=n(24),y=n.n(m),g=n(25),w=n.n(g),C=n(64),S=n.n(C);!function(e){e[e.unChanged=0]="unChanged",e[e.add=1]="add",e[e.changed=2]="changed",e[e.delete=3]="delete"}(f||(f={}));var E=n(65),T=n.n(E),P=function(){function e(){y()(this,e),this.Context=Object(u.useContext)(p)}return w()(e,[{key:"syncEmployees",value:function(e){var t=[];e.map((function(e,n){var a={serverData:e,status:f.unChanged};t.push(a)})),this.Context.setEmployeeList(t),this.Context.setSync(!0)}},{key:"getLocalEmployees",value:function(){return this.Context.employeeList}},{key:"createEmployee",value:function(e){this.Context.setSync(!1);var t={serverData:e,status:f.add},n=this.Context.employeeList;n.push(t),this.Context.setEmployeeList(n)}},{key:"deleteEmployee",value:function(e){this.Context.setSync(!1);for(var t=this.Context.employeeList,n=0;n<t.length;n++)if(t[n].serverData.id==e.id)return t[n].status=f.delete,void this.Context.setEmployeeList(T()(t))}},{key:"changePassword",value:function(e,t){this.Context.setSync(!1);for(var n=this.Context.employeeList,a=0;a<n.length;a++)if(n[a].serverData.id==e.id)return n[a].serverData.password=t,void this.Context.setEmployeeList(T()(n))}},{key:"changeTheme",value:function(e){this.Context.theme=e}}]),e}(),L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y()(this,e),this.useURL="http://20.124.74.192:3000",this.devMode=!1,this.context=Object(u.useContext)(p),this.localHander=new P,this.devMode=t}return w()(e,[{key:"getURL",value:function(){return this.devMode?"https://c27c0348-eb0c-4ac0-afe2-101bc195d6a5.mock.pstmn.io":this.useURL}},{key:"getServerAllEmployees",value:function(){var e,t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(S.a.get(this.getURL()+"/employees"));case 2:return e=n.sent,t=e.data,this.localHander.syncEmployees(t),n.abrupt("return",t);case 6:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"syncApp",value:function(){var e,t=this;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.context.employeeList.filter((function(e){return e.status===f.add})).forEach((function(e){var n,a,s;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e.serverData),console.log("Making post call for:",e.serverData),n={isManager:e.serverData.isManager,fname:e.serverData.fname,lname:e.serverData.lname,username:e.serverData.username,password:e.serverData.password},r.next=5,v.a.awrap(S.a.post(t.getURL()+"/employees",n));case 5:return a=r.sent,s=a.data,r.abrupt("return",s);case 8:case"end":return r.stop()}}),null,null,null,Promise)})),n.next=4,v.a.awrap(this.getServerAllEmployees());case 4:e=n.sent,this.localHander.syncEmployees(e),this.context.setSync(!0);case 7:case"end":return n.stop()}}),null,this,null,Promise)}}]),e}(),k=n(93),I=n(5);function D(e){e.onPress,e.title;return Object(I.jsx)(j.a,{style:{padding:3},children:Object(I.jsx)(k.a,{onPress:e.onPress,title:e.title,color:x(s.Button),disabled:e.disabled,testID:e.testID},e.key)})}var M=n(105);function U(e){var t,n=e.child,a=null!=(t=null==e?void 0:e.openTitle)?t:"null open title",r=Object(u.useState)(!1),c=o()(r,2),i=c[0],l=c[1],h=d.a.create({modalView:{flexDirection:"column",margin:20,backgroundColor:x(s.Modal),borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0}}});return Object(I.jsxs)(j.a,{children:[Object(I.jsx)(M.a,{animationType:"slide",transparent:!0,visible:i,onRequestClose:function(){l(!i)},children:Object(I.jsx)(j.a,{style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22,backgroundColor:x(s.Modal)},children:Object(I.jsxs)(j.a,{style:h.modalView,children:[Object(I.jsx)(j.a,{children:n}),Object(I.jsx)(j.a,{children:Object(I.jsx)(D,{title:"close",onPress:function(){l(!i)}})})]})})}),Object(I.jsx)(D,{title:a,onPress:function(){l(!0)}})]})}var A,R=n(58);function z(e){var t,n=e.text;if(!n)throw new Error("You did not pass a text value into one of your text");var a=null!=(t=null==e?void 0:e.type)?t:A.General;return Object(I.jsx)(j.a,{style:{padding:3},children:Object(I.jsx)(R.a,{style:F(a),children:n})})}function F(e){switch(e){case A.Title:return{color:x(s.Text),fontSize:70};case A.Header:return{color:x(s.Text),fontSize:50};case A.General:default:return{color:x(s.Text),fontSize:20}}}!function(e){e[e.Title=0]="Title",e[e.Header=1]="Header",e[e.General=2]="General"}(A||(A={}));var B=n(95),H=n(94);function N(e){var t,n,a,r,c=e.value,o=e.onChangeText,i=e.placeholder;if(void 0===c)throw new Error("You did not pass a value into one of your input text, pass the useState read only value here");if(!o)throw new Error("You did not pass an onChangeText to one of your input text, pass the useState function here ");if(!i)throw new Error("You did not put a placeholder into one of your input text, please add a default value that describes what the field will be used for");t=null==e?void 0:e.keyboardType;var l=null==(n=null==e?void 0:e.editable)||n,u=null!=(a=null==e?void 0:e.onChange)?a:function(e){var t=e.nativeEvent;t.eventCount,t.target,t.text},d=null!=(r=null==e?void 0:e.onContentSizeChange)?r:function(e){var t=e.nativeEvent.contentSize;t.width,t.height};return Object(I.jsx)(j.a,{style:{backgroundColor:x(s.InputText),padding:3},children:Object(I.jsx)(H.a,{value:c,onChangeText:o,placeholder:i,keyboardType:"default",editable:l,onChange:u,onContentSizeChange:d})})}function G(){var e=Object(u.useState)(""),t=o()(e,2),n=t[0],a=t[1],s=Object(u.useState)(""),r=o()(s,2),c=r[0],i=r[1],l=Object(u.useState)(""),d=o()(l,2),j=d[0],h=d[1],x=Object(u.useState)(""),f=o()(x,2),b=f[0],O=f[1],v=Object(u.useState)(!1),m=o()(v,2),y=m[0],g=m[1],w=Object(u.useContext)(p),C=new P;function S(){if(n&&c&&j&&b){var e={id:w.employeeList.length,fname:n,lname:c,isManager:y,username:j,password:b};C.createEmployee(e),alert("User added"),a(""),i(""),h(""),O(""),console.log(w.employeeList)}else alert("All fields must be filled out...")}return Object(I.jsx)(U,{openTitle:"Add Employee",child:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z,{text:"First Name"}),Object(I.jsx)(N,{value:n,onChangeText:function(e){return a(e)},placeholder:"John"}),Object(I.jsx)(z,{text:"Last Name"}),Object(I.jsx)(N,{value:c,onChangeText:function(e){return i(e)},placeholder:"Smith"}),Object(I.jsx)(z,{text:"Username"}),Object(I.jsx)(N,{value:j,onChangeText:function(e){return h(e)},placeholder:"jsmith"}),Object(I.jsx)(z,{text:"Password"}),Object(I.jsx)(N,{value:b,onChangeText:function(e){return O(e)},placeholder:"********"}),Object(I.jsx)(z,{text:"Is person manager?"}),Object(I.jsx)(B.a,{onValueChange:function(){return g((function(e){return!e}))},value:y}),Object(I.jsx)(D,{onPress:S,title:"Submit"})]})})}var Y=n(104);function J(e){var t=e.employee,n=Object(u.useContext)(p),a=Object(u.useState)(!1),s=o()(a,2),r=s[0],c=s[1],i=Object(u.useState)(""),l=o()(i,2),d=l[0],h=l[1],x=new P;return Object(I.jsx)(U,{child:Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(z,{text:"Name: "+t.fname+" "+t.lname}),Object(I.jsx)(z,{text:"Username: "+t.username}),Object(I.jsx)(z,{text:"ID: "+t.id}),Object(I.jsx)(z,{text:"Manager: "+(t.isManager?"Yes":"No")}),r?Object(I.jsxs)(j.a,{children:[Object(I.jsx)(N,{value:d,onChangeText:h,placeholder:"new password"}),Object(I.jsx)(D,{title:"save",onPress:function(){return function(){var e=d.trim();!0===n.employeeList.map((function(e){return e.serverData.password})).includes(e)?alert("That password already exists, try another"):e.length>7&&null!==e.match(/[!-/:-@[-`{-~]/)?(t.password=e,x.changePassword(t,e),c(!1)):alert("You must enter a valid password between 7 and 1023783467234 characters, and include at least one symbol")}()}})]}):Object(I.jsx)(D,{title:"Create New Password",onPress:function(){return c(!0)}})]}),openTitle:t.fname+" "+t.lname})}function V(){var e=new P;return Object(I.jsx)(j.a,{style:{maxHeight:300},children:Object(I.jsx)(Y.a,{children:function(){var t=e.getLocalEmployees();return t.length>1?t.map((function(e,t){return Object(I.jsx)(J,{employee:e.serverData},e.serverData.id)})):[Object(I.jsx)(z,{text:"No Employees found"})]}()})})}var _=n(8),q=n(51);function K(e){var t=Object(u.useState)(!1),n=o()(t,2),a=n[0],s=n[1];return Object(I.jsx)(j.a,{children:Object(I.jsx)(q.a,{onPress:function(){return s(!a)},children:Object(I.jsxs)(j.a,{style:{flexDirection:"column"},children:[Object(I.jsx)(j.a,{children:Object(I.jsx)(z,{text:e.title})}),Object(I.jsx)(q.a,{children:Object(I.jsx)(j.a,{children:a&&e.children})})]})})})}function Q(e){return Object(I.jsx)(K,{title:"hello"})}function W(e){var t=Object(l.d)().instance;return t.enableAccountStorageEvents(),t.addEventCallback((function(t){t.eventType===_.a.LOGOUT_FAILURE&&e.setPage(0)})),Object(I.jsxs)(j.a,{children:[Object(I.jsx)(z,{text:"Settings"}),Object(I.jsx)(D,{onPress:function(){t.logout(),e.setPage(0)},title:"Logout"}),Object(I.jsx)(Q,{})]})}function X(){var e=new L,t=new P;Object(u.useContext)(p);return Object(u.useEffect)((function(){!function(){var n;v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(e.getServerAllEmployees());case 2:n=a.sent,t.syncEmployees(n);case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(I.jsxs)(j.a,{children:[Object(I.jsx)(U,{openTitle:"settings",child:Object(I.jsx)(j.a,{children:Object(I.jsx)(W,{})})}),Object(I.jsx)(z,{text:"Main page"}),Object(I.jsx)(D,{onPress:function(){e.syncApp(),console.log("Sync pressed")},title:"Sync"}),Object(I.jsx)(V,{}),Object(I.jsx)(G,{})]})}var Z=n(98);function $(e){return Object(I.jsxs)(j.a,{children:[Object(I.jsx)(Z.a,{size:"large",color:"#0000ff"}),Object(I.jsx)(z,{text:"Loading..."})]})}d.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#000000"}});function ee(e){var t=Object(l.d)().instance;return t.enableAccountStorageEvents(),t.addEventCallback((function(t){t.eventType===_.a.LOGIN_FAILURE&&e.setPage(0)})),Object(I.jsxs)(j.a,{children:[Object(I.jsx)(z,{text:" Sign in "}),Object(I.jsx)(D,{onPress:function(){!function(){try{t.loginPopup(),e.setPage(1)}catch(n){e.setPage(0)}}()},title:"Login"})]})}function te(){var e=Object(u.useState)(0),t=o()(e,2),n=t[0],a=t[1];return Object(I.jsx)(j.a,{children:function(){switch(n){case 0:return Object(I.jsx)(j.a,{children:Object(I.jsx)(ee,{setPage:a})});case 1:return Object(I.jsx)(j.a,{children:Object(I.jsx)($,{setPage:a})});default:return Object(I.jsx)(j.a,{children:Object(I.jsx)(ee,{setPage:a})})}}()})}var ne=new i.a({auth:{clientId:"663099a6-a78e-4905-9aa1-f1a58912c0f6",authority:"https://login.microsoftonline.com/874eb666-ca35-4e5d-bde2-379ff6a5f431 ",redirectUri:"https://salmon-rock-0e75fe60f.1.azurestaticapps.net/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}});function ae(){var e=Object(u.useState)(0),t=o()(e,2),n=t[0],s=t[1],r=Object(u.useState)({id:0,isManager:!1,fname:"fname",lname:"lname",username:"username",password:"password1!"}),c=o()(r,2),i=c[0],d=c[1],x=Object(u.useState)([]),f=o()(x,2),b=f[0],O=f[1],v=Object(u.useState)(-1),m=o()(v,2),y=m[0],g=m[1],w=Object(u.useState)(a.default),C=o()(w,2),S=C[0],E=C[1],T=Object(u.useState)(!0),P=o()(T,2),L=P[0],k=P[1],D={pageIndex:n,setPageIndex:s,user:i,setUser:d,employeeList:b,setEmployeeList:O,employeeIndex:y,setEmployeeIndex:g,theme:S,setTheme:E,sync:L,setSync:k};var M={theme:S,setTheme:E};return Object(I.jsx)(j.a,{style:se.container,children:Object(I.jsx)(p.Provider,{value:D,children:Object(I.jsx)(h.Provider,{value:M,children:Object(I.jsxs)(l.b,{instance:ne,children:[Object(I.jsx)(l.c,{children:Object(I.jsx)(te,{})}),Object(I.jsx)(l.a,{children:function(){switch(n){case 0:return Object(I.jsx)(j.a,{children:Object(I.jsx)(X,{})});case 1:return Object(I.jsx)(j.a,{children:Object(I.jsx)(z,{text:"User setting"})})}}()})]})})})})}var se=d.a.create({container:{flex:1,backgroundColor:"#999",alignItems:"center",justifyContent:"center"}})},106:function(e,t,n){e.exports=n(150)}},[[106,1,2]]]);
//# sourceMappingURL=app.dd7982da.chunk.js.map