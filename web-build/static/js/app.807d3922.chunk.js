(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return ie}));var a,r,s=n(15),c=n.n(s),o=n(159),i=n(35),l=n(1),u=n(7),d=n(108),h=n(18),f=Object(l.createContext)({theme:0,setTheme:function(){}});function x(e){var t="#ffffff";switch(Object(l.useContext)(f).theme){case a.light:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#E6B566";break;case r.Button:case r.InputText:t="#E5707E";break;case r.ModalBackground:t="#A3DDCB";case r.ModalInner:t="#ffffff";case r.primaryColor:t="#A3DDCB";break;case r.SecondaryColor:t="#E8E9A1";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}break;case a.dark:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#2D4263";break;case r.Button:case r.InputText:t="#C84B31";break;case r.ModalBackground:t="#191919";case r.ModalInner:t="#ffffff";case r.primaryColor:case r.SecondaryColor:t="#191919";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}break;case a.hacker:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="#14f074";break;case r.Button:case r.InputText:t="#0c833d";break;case r.ModalBackground:t="#0c833d";case r.ModalInner:t="#ffffff";case r.primaryColor:case r.SecondaryColor:t="#063335";break;case r.TertiaryColor:t="#13993b";break;default:t="#ffffff"}break;default:switch(e){case r.Text:case r.textHeader:case r.textTitle:t="ivory";break;case r.Button:t="chocolate";break;case r.InputText:t="linen";break;case r.ModalBackground:t="#96D65E";case r.ModalInner:t="#ffffff";case r.primaryColor:t="#333";break;case r.SecondaryColor:t="#5B995A";break;case r.TertiaryColor:t="#12FF5A";break;default:t="#ffffff"}}return"android"==h.a.OS?""+t:t}function j(){switch(Object(l.useContext)(f).theme){case a.light:case a.dark:return 5;case a.hacker:return 1;default:return 5}}function b(){switch(Object(l.useContext)(f).theme){case a.light:case a.dark:return 10;case a.hacker:return 0;default:return 10}}function p(){switch(Object(l.useContext)(f).theme){case a.light:case a.dark:return 5;case a.hacker:return 0;default:return 5}}function g(){switch(Object(l.useContext)(f).theme){case a.light:case a.dark:return 5;case a.hacker:return 2;default:return 5}}!function(e){e[e.default=0]="default",e[e.light=1]="light",e[e.dark=2]="dark",e[e.hacker=3]="hacker"}(a||(a={})),function(e){e[e.Text=0]="Text",e[e.textHeader=1]="textHeader",e[e.textTitle=2]="textTitle",e[e.Button=3]="Button",e[e.ModalBackground=4]="ModalBackground",e[e.ModalInner=5]="ModalInner",e[e.InputText=6]="InputText",e[e.primaryColor=7]="primaryColor",e[e.SecondaryColor=8]="SecondaryColor",e[e.TertiaryColor=9]="TertiaryColor"}(r||(r={}));var m,y={pageIndex:0,setPageIndex:function(){},user:{id:0,isManager:!1,fname:"",lname:"",username:"",password:""},setUser:function(){},employeeList:[],setEmployeeList:function(){},employeeIndex:0,setEmployeeIndex:function(){},theme:a.default,setTheme:function(){},sync:!0,setSync:function(){}},O=Object(l.createContext)(y),v=n(22),C=n.n(v),w=n(20),T=n(27),k=n.n(T),S=n(28),E=n.n(S),I=n(67),P=n.n(I);!function(e){e[e.unChanged=0]="unChanged",e[e.add=1]="add",e[e.changed=2]="changed",e[e.delete=3]="delete"}(m||(m={}));var L=n(68),D=n.n(L),H=function(){function e(){k()(this,e),this.Context=Object(l.useContext)(O)}return E()(e,[{key:"syncEmployees",value:function(e){var t=[];e.map((function(e,n){var a={serverData:e,status:m.unChanged};t.push(a)})),this.Context.setEmployeeList(t),this.Context.setSync(!0)}},{key:"getLocalEmployees",value:function(){return this.Context.employeeList}},{key:"createEmployee",value:function(e){this.Context.setSync(!1);var t={serverData:e,status:m.add},n=this.Context.employeeList;n.push(t),this.Context.setEmployeeList(n)}},{key:"deleteEmployee",value:function(e){this.Context.setSync(!1);for(var t=this.Context.employeeList,n=0;n<t.length;n++)if(t[n].serverData.id==e.id)return t[n].status=m.delete,void this.Context.setEmployeeList(D()(t))}},{key:"changePassword",value:function(e,t){this.Context.setSync(!1);for(var n=this.Context.employeeList,a=0;a<n.length;a++)if(n[a].serverData.id==e.id)return n[a].serverData.password=t,void this.Context.setEmployeeList(D()(n))}},{key:"changeTheme",value:function(e){this.Context.theme=e}}]),e}(),M=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];k()(this,e),this.useURL="http://20.121.72.15:3000",this.devMode=!1,this.context=Object(l.useContext)(O),this.localHander=new H,this.devMode=t}return E()(e,[{key:"getURL",value:function(){return this.devMode?"https://c27c0348-eb0c-4ac0-afe2-101bc195d6a5.mock.pstmn.io":this.useURL}},{key:"getServerAllEmployees",value:function(){var e,t;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C.a.awrap(P.a.get(this.getURL()+"/employees"));case 2:return e=n.sent,t=e.data,this.localHander.syncEmployees(t),n.abrupt("return",t);case 6:case"end":return n.stop()}}),null,this,null,Promise)}},{key:"syncApp",value:function(){var e,t=this;return C.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return this.context.employeeList.filter((function(e){return e.status===m.add})).forEach((function(e){var n,a,r;return C.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return console.log(e.serverData),console.log("Making post call for:",e.serverData),n={isManager:e.serverData.isManager,fname:e.serverData.fname,lname:e.serverData.lname,username:e.serverData.username,password:e.serverData.password},s.next=5,C.a.awrap(P.a.post(t.getURL()+"/employees",n));case 5:return a=s.sent,r=a.data,s.abrupt("return",r);case 8:case"end":return s.stop()}}),null,null,null,Promise)})),n.next=4,C.a.awrap(this.getServerAllEmployees());case 4:e=n.sent,this.localHander.syncEmployees(e),this.context.setSync(!0);case 7:case"end":return n.stop()}}),null,this,null,Promise)}}]),e}(),A=n(109),B=n(5);function R(e){e.onPress,e.title;return Object(B.jsx)(u.a,{style:"web"==h.a.OS?{margin:g(),backgroundColor:x(r.Button),padding:p(),borderRadius:b(),shadowRadius:j()}:{margin:g(),padding:p(),borderRadius:b(),shadowRadius:j()},children:Object(B.jsx)(A.a,{onPress:e.onPress,title:e.title,color:x(r.Button),disabled:e.disabled,testID:e.testID},e.key)})}var U=n(106),F=n(11);function z(e){var t,n=e.child,a=null!=(t=null==e?void 0:e.openTitle)?t:"null open title",s=Object(l.useState)(!1),o=c()(s,2),i=o[0],d=o[1],h=F.a.create({modalView:{flexDirection:"column",flex:1,alignContent:"center",justifyContent:"center",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:0}}});return Object(B.jsxs)(u.a,{children:[Object(B.jsx)(u.a,{style:{alignItems:"center",justifyContent:"center"},children:Object(B.jsx)(U.a,{animationType:"slide",transparent:!0,visible:i,onRequestClose:function(){d(!i)},children:Object(B.jsx)(u.a,{style:h.modalView,children:Object(B.jsxs)(u.a,{style:{margin:g(),padding:p(),borderRadius:b(),backgroundColor:x(r.ModalBackground),borderWidth:5},children:[n,Object(B.jsx)(R,{title:"close",onPress:function(){d(!i)}})]})})})}),Object(B.jsx)(R,{title:a,onPress:function(){d(!0)}})]})}var G,N=n(60);function Y(e){var t=e.text;if(!t)throw new Error("You did not pass a text value into one of your text");var n=e.textType,a=r.Text,s="auto";return null!=e&&e.textAlign&&(s=null==e?void 0:e.textAlign),Object(B.jsx)(u.a,{style:{margin:5},children:Object(B.jsx)(N.a,{style:{color:x(a),fontSize:J(n),textAlign:W(s,n)},children:t})})}function W(e,t){var n=null!=e?e:"auto";switch(t){case G.Title:case G.Header:return"center";case G.General:default:return n}}function J(e){if("web"==h.a.OS)switch(e){case G.Title:return 50;case G.Header:return 30;case G.General:default:return 20}else switch(e){case G.Title:return 30;case G.Header:return 20;case G.General:default:return 10}}function V(e){var t,n,a=null!=(t=null==e?void 0:e.height)?t:0,r=null!=(n=null==e?void 0:e.width)?n:0,s=e.minHeight,c=e.minWidth,o=e.maxHeight,i=e.maxWidth;return Object(B.jsx)(u.a,{style:{height:a,width:r,minHeight:s,minWidth:c,maxHeight:o,maxWidth:i}})}!function(e){e[e.Title=0]="Title",e[e.Header=1]="Header",e[e.General=2]="General"}(G||(G={}));var _=n(97),q=n(96);function K(e){var t,n,a,s,c,o=e.value,i=e.onChangeText,l=e.placeholder;if(void 0===o)throw new Error("You did not pass a value into one of your input text, pass the useState read only value here");if(!i)throw new Error("You did not pass an onChangeText to one of your input text, pass the useState function here ");if(!l)throw new Error("You did not put a placeholder into one of your input text, please add a default value that describes what the field will be used for");var d=null!=(t=null==e?void 0:e.keyboardType)?t:"default",h=null==(n=null==e?void 0:e.editable)||n,f=null!=(a=null==e?void 0:e.onChange)?a:function(e){var t=e.nativeEvent;t.eventCount,t.target,t.text},m=null!=(s=null==e?void 0:e.onContentSizeChange)?s:function(e){var t=e.nativeEvent.contentSize;t.width,t.height},y=null!=(c=null==e?void 0:e.textAlign)?c:"center";return Object(B.jsx)(u.a,{style:{backgroundColor:x(r.InputText),borderRadius:b(),margin:g(),padding:p(),shadowRadius:j()},children:Object(B.jsx)(q.a,{value:o,onChangeText:i,placeholder:l,keyboardType:d,editable:h,onChange:f,onContentSizeChange:m,style:{fontSize:20,textAlign:y}})})}function Q(){var e=Object(l.useState)(""),t=c()(e,2),n=t[0],a=t[1],r=Object(l.useState)(""),s=c()(r,2),o=s[0],i=s[1],d=Object(l.useState)(""),h=c()(d,2),f=h[0],x=h[1],j=Object(l.useState)(""),b=c()(j,2),p=b[0],g=b[1],m=Object(l.useState)(!1),y=c()(m,2),v=y[0],C=y[1],T=Object(l.useContext)(O),k=new H;function S(){if(n&&o&&f&&p){var e={id:T.employeeList.length,fname:n,lname:o,isManager:v,username:f,password:p};k.createEmployee(e),alert("User added"),a(""),i(""),x(""),g(""),console.log(T.employeeList)}else alert("All fields must be filled out...")}return Object(B.jsx)(z,{openTitle:"Add Employee",child:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(V,{width:.2*w.a.get("screen").width,height:1}),Object(B.jsx)(Y,{text:"First Name",textType:G.Header}),Object(B.jsx)(K,{value:n,onChangeText:function(e){return a(e)},placeholder:"John"}),Object(B.jsx)(Y,{text:"Last Name",textType:G.Header}),Object(B.jsx)(K,{value:o,onChangeText:function(e){return i(e)},placeholder:"Smith"}),Object(B.jsx)(Y,{text:"Username",textType:G.Header}),Object(B.jsx)(K,{value:f,onChangeText:function(e){return x(e)},placeholder:"jsmith"}),Object(B.jsx)(Y,{text:"Password",textType:G.Header}),Object(B.jsx)(K,{value:p,onChangeText:function(e){return g(e)},placeholder:"********"}),Object(B.jsxs)(u.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[Object(B.jsx)(Y,{text:"Is person manager?",textType:G.Header}),Object(B.jsx)(_.a,{onValueChange:function(){return C((function(e){return!e}))},value:v})]}),Object(B.jsx)(R,{onPress:S,title:"Submit"})]})})}var X=n(107);function Z(e){var t=e.employee,n=Object(l.useContext)(O),a=Object(l.useState)(!1),r=c()(a,2),s=r[0],o=r[1],i=Object(l.useState)(""),d=c()(i,2),h=d[0],f=d[1],x=new H;return Object(B.jsx)(z,{child:Object(B.jsxs)(u.a,{style:{alignSelf:"stretch"},children:[Object(B.jsx)(V,{width:.2*w.a.get("screen").width,height:1,textType:G.Header}),Object(B.jsx)(Y,{text:"Name: "+t.fname+" "+t.lname,textType:G.Header}),Object(B.jsx)(Y,{text:"Username: "+t.username,textType:G.Header}),Object(B.jsx)(Y,{text:"ID: "+t.id,textType:G.Header}),Object(B.jsx)(Y,{text:"Manager: "+(t.isManager?"Yes":"No"),textType:G.Header}),s?Object(B.jsxs)(u.a,{children:[Object(B.jsx)(K,{value:h,onChangeText:f,placeholder:"new password"}),Object(B.jsx)(R,{title:"save",onPress:function(){return function(){var e=h.trim();!0===n.employeeList.map((function(e){return e.serverData.password})).includes(e)?alert("That password already exists, try another"):e.length>7&&null!==e.match(/[!-/:-@[-`{-~]/)?(t.password=e,x.changePassword(t,e),o(!1)):alert("You must enter a valid password between 7 and 1023783467234 characters, and include at least one symbol")}()}})]}):Object(B.jsx)(R,{title:"Create New Password",onPress:function(){return o(!0)}})]}),openTitle:t.fname+" "+t.lname})}function $(){var e=new H;return Object(B.jsx)(u.a,{style:{maxHeight:300},children:Object(B.jsx)(X.a,{children:function(){var t=e.getLocalEmployees();return t.length>1?t.map((function(e,t){return Object(B.jsx)(Z,{employee:e.serverData},e.serverData.id)})):[Object(B.jsx)(Y,{text:"No Employees found"})]}()})})}var ee=n(9);function te(e){var t=Object(i.d)().instance,n=Object(l.useContext)(f);return t.enableAccountStorageEvents(),t.addEventCallback((function(t){t.eventType===ee.a.LOGOUT_FAILURE&&e.setPage(0)})),Object(B.jsxs)(u.a,{children:[Object(B.jsx)(V,{width:.2*w.a.get("screen").width,height:1}),Object(B.jsx)(Y,{text:"Settings",textType:G.Header}),Object(B.jsxs)(u.a,{style:{backgroundColor:x(r.SecondaryColor),borderRadius:b(),padding:p(),margin:g()},children:[Object(B.jsx)(R,{title:"Set Default theme",onPress:function(){n.setTheme(a.default)}}),Object(B.jsx)(R,{title:"Set Dark theme",onPress:function(){n.setTheme(a.dark)}}),Object(B.jsx)(R,{title:"Set Light theme",onPress:function(){n.setTheme(a.light)}}),Object(B.jsx)(R,{title:"Set Hacker theme",onPress:function(){n.setTheme(a.hacker)}})]}),Object(B.jsx)(R,{onPress:function(){t.logout(),e.setPage(0)},title:"Logout"})]})}function ne(){var e=new M(!1),t=new H;Object(l.useContext)(O);return Object(l.useEffect)((function(){!function(){var n;C.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,C.a.awrap(e.getServerAllEmployees());case 2:n=a.sent,t.syncEmployees(n);case 4:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(B.jsxs)(u.a,{style:{flexDirection:"column"},children:[Object(B.jsx)(z,{openTitle:"settings",child:Object(B.jsx)(u.a,{children:Object(B.jsx)(te,{})})}),Object(B.jsx)(Y,{text:"Main page",textType:G.Title}),Object(B.jsx)(R,{onPress:function(){e.syncApp(),console.log("Sync pressed")},title:"Sync"}),Object(B.jsx)(V,{width:.2*w.a.get("screen").width,height:1}),Object(B.jsxs)(u.a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"stretch",padding:p(),borderRadius:b(),margin:g(),backgroundColor:x(r.SecondaryColor)},children:[Object(B.jsx)(V,{height:.3*w.a.get("screen").height,width:1}),Object(B.jsxs)(u.a,{style:{flexDirection:"column"},children:[Object(B.jsx)(V,{width:.2*w.a.get("screen").width,height:1}),Object(B.jsx)($,{})]})]}),Object(B.jsx)(Q,{})]})}var ae=n(100);function re(e){return Object(B.jsxs)(u.a,{children:[Object(B.jsx)(ae.a,{size:"large",color:"#0000ff"}),Object(B.jsx)(Y,{text:"Loading..."})]})}F.a.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#000000"}});function se(e){var t=Object(i.d)().instance;return t.enableAccountStorageEvents(),t.addEventCallback((function(t){t.eventType===ee.a.LOGIN_FAILURE&&e.setPage(0)})),Object(B.jsxs)(u.a,{children:[Object(B.jsx)(Y,{text:" Sign in ",textType:G.Title}),Object(B.jsx)(R,{onPress:function(){!function(){try{t.loginPopup(),e.setPage(1)}catch(n){e.setPage(0)}}()},title:"Login"})]})}function ce(){var e=Object(l.useState)(0),t=c()(e,2),n=t[0],a=t[1];return Object(B.jsx)(u.a,{children:function(){switch(n){case 0:return Object(B.jsx)(u.a,{children:Object(B.jsx)(se,{setPage:a})});case 1:return Object(B.jsx)(u.a,{children:Object(B.jsx)(re,{setPage:a})});default:return Object(B.jsx)(u.a,{children:Object(B.jsx)(se,{setPage:a})})}}()})}var oe=new o.a({auth:{clientId:"663099a6-a78e-4905-9aa1-f1a58912c0f6",authority:"https://login.microsoftonline.com/874eb666-ca35-4e5d-bde2-379ff6a5f431 ",redirectUri:"https://salmon-rock-0e75fe60f.1.azurestaticapps.net/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}});function ie(){var e=Object(l.useState)(0),t=c()(e,2),s=t[0],o=t[1],h=Object(l.useState)({id:0,isManager:!1,fname:"fname",lname:"lname",username:"username",password:"password1!"}),j=c()(h,2),b=j[0],p=j[1],g=Object(l.useState)([]),m=c()(g,2),y=m[0],v=m[1],C=Object(l.useState)(-1),w=c()(C,2),T=w[0],k=w[1],S=Object(l.useState)(a.default),E=c()(S,2),I=E[0],P=E[1],L=Object(l.useState)(!0),D=c()(L,2),H=D[0],M=D[1],A={pageIndex:s,setPageIndex:o,user:b,setUser:p,employeeList:y,setEmployeeList:v,employeeIndex:T,setEmployeeIndex:k,theme:I,setTheme:P,sync:H,setSync:M};var R={theme:I,setTheme:P};return Object(B.jsx)(u.a,{style:{backgroundColor:x(r.primaryColor),flex:1,alignItems:"center",justifyContent:"center"},children:Object(B.jsx)(O.Provider,{value:A,children:Object(B.jsxs)(f.Provider,{value:R,children:[Object(B.jsx)(d.a,{style:{height:192,width:192,margin:10},source:n(148)}),Object(B.jsxs)(i.b,{instance:oe,children:[Object(B.jsx)(i.c,{children:Object(B.jsx)(ce,{})}),Object(B.jsx)(i.a,{children:function(){switch(s){case 0:return Object(B.jsx)(u.a,{children:Object(B.jsx)(ne,{})});case 1:return Object(B.jsx)(u.a,{children:Object(B.jsx)(Y,{text:"User setting"})})}}()})]})]})})})}},110:function(e,t,n){e.exports=n(155)},148:function(e,t,n){e.exports=n.p+"static/media/Sale.c1fdc2f5.png"}},[[110,1,2]]]);
//# sourceMappingURL=app.807d3922.chunk.js.map